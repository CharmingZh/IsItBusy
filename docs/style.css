/* ========== 全局盒模型和安全区域 ========== */
*, *::before, *::after {
  box-sizing: border-box;
}

/*
   让页面占满整个屏幕高度，并使用安全区域，避免iPhone刘海和底部Home Bar遮挡。
   同时保留竖向滚动 auto, 以便在 iPhone Safari 下触发下拉刷新。
*/
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;

  /* 保留竖向滚动，iOS Safari可下拉刷新 */
  overflow-x: hidden;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch; /* iOS 回弹效果 */

  font-family: 'Arial', sans-serif;
  font-size: 17px;
  background: #f4f4f9;

  /* 让安全区域内边距自行加到可滚动区域里 */
  padding-top: env(safe-area-inset-top);
  padding-right: env(safe-area-inset-right);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
}

/*
   主容器采用Grid：
   行：header(自适应高度) + 中间内容(1fr) + footer(自适应高度)
   高度设为100vh(减去安全区域)，以在一屏内显示并让中间区最大化。
*/
.main-container {
  display: grid;
  grid-template-rows: auto 1fr auto;
  /* 填满屏幕可视高度，再减去上下的env安全区域 */
  height: calc(70vh - env(safe-area-inset-top) - env(safe-area-inset-bottom));
  width: 100%;
}

/* ========== 顶部区域 header ========== */
header {
  padding: 0.5rem;
  text-align: center;
  position: relative;
  background: #f4f4f9;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

header h2 {
  margin: 0.2rem 0;
  font-size: 2rem;
  color: #094b0a;
}

/* ========== 实时显示区域 ========== */
#realtime-container {
  display: flex;
  justify-content: center;
  gap: 7px;
  height: 70px;
  margin-top: 0.5rem;
}

.realtime-box-west,
.realtime-box-circle,
.realtime-box-east {
  background: #000;
  color: #32CD32;
  border: 3px solid #58076E;
  border-radius: 17px;
  padding: 0.3rem 0.2rem;
  font-family: 'VT323', monospace;
  font-size: 1.25rem;
  text-align: center;
  min-width: 100px;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.realtime-box-west {
  box-shadow: 0 4px 4px rgba(84, 112, 198, 1);
}
.realtime-box-circle {
  box-shadow: 0 4px 4px rgba(151, 207, 125, 1);
}
.realtime-box-east {
  box-shadow: 0 4px 4px rgba(250, 200, 88, 1);
}

.realtime-label {
  font-size: 2.75rem;
  color: #fac5e8;
  margin-bottom: -15px;
}

.realtime-count {
  font-family: 'Doto', sans-serif;
  font-size: 2.75rem;
}

.realtime-indicator-up {
  font-family: 'Doto', sans-serif;
  color: #d9534f;
  font-size: 1rem;
}

.realtime-indicator-down {
  font-family: 'Doto', sans-serif;
  color: #32CD32;
  font-size: 1rem;
}

/* ========== 关于按钮 ========== */
#about-button {
  position: absolute;
  top: 0.5rem;
  right: 0.8rem;
  width: 35px;
  height: 35px;
  border-radius: 26%;
  background: #fff;
  border: 2px solid #960226;
  color: #970623;
  font-size: 2rem; /* 避免过大导致撑宽 */
  line-height: 35px;
  text-align: center;
  cursor: pointer;
  transition: background 0.3s, color 0.3s;
}

#about-button:hover,
#about-button:active {
  background: #32CD32;
  color: #000;
}

/* ========== 中间内容区域：图表区域 ========== */
/* 占据 1fr 行 */
.content {
  /* 在Grid中，让此区占用中间可伸缩的空间 */
  width: 100%;
  /* 若要查看超出部分时滚动，可加 overflow-y: auto;
     但你表示“一页内显示完毕”，所以这里不强制滚动 */
  padding: 0.5rem;
  background: #fff;

  /* 为防止图表缩到最小，可以给它一些最小高度（可选） */
   min-height: 500px;
}

#chart {
  width: 100%;
  /* 让图表随父容器拉伸 */
  height: 100%;
  background: #fff;
  border-radius: 15px;
  box-shadow: 0 4px 8px rgba(255, 217, 230, 0.7);
  padding: 5%; /* 可自行调大或调小 */
}

/* ========== 底部说明区域 footer ========== */
footer {
  text-align: center;
  font-size: 0.2rem;
  color: #555;
  background: #fff;
  border-top: 1px solid #ddd;
  border-radius: 26px;
  padding: 0.3rem;
  /* 让footer高度自适应 */
  box-shadow: 0 -2px 4px rgba(0,0,0,0.05);
}

.disclaimer {
  color: #960226;
}

/* 针对较小屏幕的调整(可根据需求精细调参) */
@media (max-width: 768px) {
  header h2 {
    font-size: 1.2rem;
  }
  .realtime-label {
    font-size: 1.8rem;
  }
  .realtime-count {
    font-size: 1.5rem;
  }
  #about-button {
    width: 30px;
    height: 30px;
    font-size: 1rem;
    line-height: 30px;
  }
  footer {
    font-size: 0.6rem;
  }
}
